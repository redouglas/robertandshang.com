h2.section-header RSVP
form#rsvpForm
  .grid
    .col-2
      .field
        label Full Name
        input.name(type='text', name='name')
      .field
        label Email
        input(type='email', name='email')
      .field
        label Dietary Restrictions
        textarea(name='dietary_restr')
    .col-2
      .field
        label Will you be attending?
        .select-wrap
          select(name='attending')
            option(disabled selected value)
            option(value='yes') Yes - I'll be there
            option(value='no') No - I have to miss it
      .field
        label Guest's Full Name
        input(type='text', name='guest_name')
      .field
        label Song Requests
        textarea(name='song_reqs')
  button.black(type='submit') Submit
.rsvp-success
  h3 Thank you
  p We have received your information.
.rsvp-error
  h3 Error
  p Sorry, there was an error submittind your form. Please contact us via phone or email instead.

script.
  var $form = window.jQuery('form#rsvpForm'),
    url = 'https://script.google.com/macros/s/AKfycbzvyGAG3hOnODWD8ZWCPaiwSRES4vBFJGS15610qGkq4etm6ps/exec'

  $form.on('submit', function(e) {
    e.preventDefault();

    if (!$form.find('select option:selected').val()) {
      alert('Please let us know if you will be attending or not.');
      return;
    } else if (!$form.find('input.name').val()) {
      alert ('Please fill in your name.')
    }
    else {
      $form.addClass('loading');
      var jqxhr = $.ajax({
        url: url,
        method: "GET",
        dataType: "json",
        data: $form.serialize()
      }).success(function(data, status, xhr) {
          $form.addClass('finished');
          window.jQuery('.rsvp-success').addClass('show');
        }).error(function() {
          $form.removeClass('loading');
           window.jQuery('.rsvp-error').addClass('show');
      });
    }
  })
